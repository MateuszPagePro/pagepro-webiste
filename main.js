!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=17)}([function(e,t){e.exports="precision highp float;\nattribute vec2 aPosition;\nvarying vec2 coords;\nvarying vec2 vL;\nvarying vec2 vR;\nvarying vec2 vT;\nvarying vec2 vB;\nuniform vec2 texelSize;\nvoid main() {\n\tcoords = (aPosition * 0.5) + 0.5;\n\tvL = coords - vec2(texelSize.x, 0.0);\n\tvR = coords + vec2(texelSize.x, 0.0);\n\tvT = coords + vec2(0.0, texelSize.y);\n\tvB = coords - vec2(0.0, texelSize.y);\n\tgl_Position = vec4(aPosition, 0.0, 1.0);\n}\n"},function(e,t){e.exports="precision mediump float;\nprecision mediump sampler2D;\nvarying highp vec2 coords;\nuniform sampler2D uTexture;\nuniform float value;\nvoid main() {\n\tgl_FragColor = value * texture2D(uTexture, coords);\n}\n"},function(e,t){e.exports="precision highp float;\nprecision highp sampler2D;\nvarying vec2 coords;\nuniform sampler2D uTexture;\nvoid main() {\n\tvec3 C = texture2D(uTexture, coords).rgb;\n\tfloat a = max(C.r, max(C.g, C.b));\n\tgl_FragColor = vec4(C, a);\n}\n"},function(e,t){e.exports="precision highp float;\nprecision highp sampler2D;\nvarying vec2 coords;\nvarying vec2 vL;\nvarying vec2 vR;\nvarying vec2 vT;\nvarying vec2 vB;\nuniform sampler2D uTexture;\nuniform vec2 texelSize;\nvoid main() {\n\tvec3 L = texture2D(uTexture, vL).rgb;\n\tvec3 R = texture2D(uTexture, vR).rgb;\n\tvec3 T = texture2D(uTexture, vT).rgb;\n\tvec3 B = texture2D(uTexture, vB).rgb;\n\tvec3 C = texture2D(uTexture, coords).rgb;\n\tfloat dx = length(R) - length(L);\n\tfloat dy = length(T) - length(B);\n\tvec3 n = normalize(vec3(dx, dy, length(texelSize)));\n\tvec3 l = vec3(0.0, 0.0, 1.0);\n\tfloat diffuse = clamp(dot(n, l) + 0.7, 0.7, 1.0);\n\tC.rgb *= diffuse;\n\tfloat a = max(C.r, max(C.g, C.b));\n\tgl_FragColor = vec4(C, a);\n}\n"},function(e,t){e.exports="precision highp float;\nprecision highp sampler2D;\nvarying vec2 coords;\nuniform sampler2D uTarget;\nuniform float aspectRatio;\nuniform vec3 color;\nuniform vec2 point;\nuniform float radius;\nvoid main() {\n\tvec2 p = coords - point.xy;\n\tp.x *= aspectRatio;\n\tvec3 splat = exp(-dot(p, p) / radius) * color;\n\tvec3 base = texture2D(uTarget, coords).xyz;\n\tgl_FragColor = vec4(base + splat, 1.0);\n}\n"},function(e,t){e.exports="precision highp float;\nprecision highp sampler2D;\nvarying vec2 coords;\nuniform sampler2D uVelocity;\nuniform sampler2D uSource;\nuniform vec2 texelSize;\nuniform float dt;\nuniform float dissipation;\nvoid main() {\n\tvec2 prevCoords = coords - ((dt * texelSize) * texture2D(uVelocity, coords).xy);\n\tgl_FragColor = dissipation * texture2D(uSource, prevCoords);\n\tgl_FragColor.a = 1.0;\n}\n"},function(e,t){e.exports="precision highp float;\nprecision highp sampler2D;\nvarying vec2 coords;\nuniform sampler2D uVelocity;\nuniform sampler2D uSource;\nuniform vec2 texelSize;\nuniform vec2 dyeTexelSize;\nuniform float dt;\nuniform float dissipation;\nvec4 bilerp(sampler2D sam, vec2 uv, vec2 tsize) {\n\tvec2 st = (uv / tsize) - 0.5;\n\tvec2 iuv = floor(st);\n\tvec2 fuv = fract(st);\n\tvec4 a = texture2D(sam, (iuv + vec2(0.5, 0.5)) * tsize);\n\tvec4 b = texture2D(sam, (iuv + vec2(1.5, 0.5)) * tsize);\n\tvec4 c = texture2D(sam, (iuv + vec2(0.5, 1.5)) * tsize);\n\tvec4 d = texture2D(sam, (iuv + vec2(1.5, 1.5)) * tsize);\n\treturn mix(mix(a, b, fuv.x), mix(c, d, fuv.x), fuv.y);\n}\nvoid main() {\n\tvec2 coord = coords - ((dt * bilerp(uVelocity, coords, texelSize).xy) * texelSize);\n\tgl_FragColor = dissipation * bilerp(uSource, coord, dyeTexelSize);\n\tgl_FragColor.a = 1.0;\n}\n"},function(e,t){e.exports="precision mediump float;\nprecision mediump sampler2D;\nvarying highp vec2 coords;\nvarying highp vec2 vL;\nvarying highp vec2 vR;\nvarying highp vec2 vT;\nvarying highp vec2 vB;\nuniform sampler2D uVelocity;\nvoid main() {\n\tfloat L = texture2D(uVelocity, vL).x;\n\tfloat R = texture2D(uVelocity, vR).x;\n\tfloat T = texture2D(uVelocity, vT).y;\n\tfloat B = texture2D(uVelocity, vB).y;\n\tvec2 C = texture2D(uVelocity, coords).xy;\n\tfloat div = 0.5 * (((R - L) + T) - B);\n\tgl_FragColor = vec4(div, 0.0, 0.0, 1.0);\n}\n"},function(e,t){e.exports="precision mediump float;\nprecision mediump sampler2D;\nvarying highp vec2 coords;\nvarying highp vec2 vL;\nvarying highp vec2 vR;\nvarying highp vec2 vT;\nvarying highp vec2 vB;\nuniform sampler2D uVelocity;\nvoid main() {\n\tfloat L = texture2D(uVelocity, vL).y;\n\tfloat R = texture2D(uVelocity, vR).y;\n\tfloat T = texture2D(uVelocity, vT).x;\n\tfloat B = texture2D(uVelocity, vB).x;\n\tfloat vorticity = ((R - L) - T) + B;\n\tgl_FragColor = vec4(0.5 * vorticity, 0.0, 0.0, 1.0);\n}\n"},function(e,t){e.exports="precision highp float;\nprecision highp sampler2D;\nvarying vec2 coords;\nvarying vec2 vL;\nvarying vec2 vR;\nvarying vec2 vT;\nvarying vec2 vB;\nuniform sampler2D uVelocity;\nuniform sampler2D uCurl;\nuniform float curl;\nuniform float dt;\nvoid main() {\n\tfloat L = texture2D(uCurl, vL).x;\n\tfloat R = texture2D(uCurl, vR).x;\n\tfloat T = texture2D(uCurl, vT).x;\n\tfloat B = texture2D(uCurl, vB).x;\n\tfloat C = texture2D(uCurl, coords).x;\n\tvec2 force = 0.5 * vec2(abs(T) - abs(B), abs(R) - abs(L));\n\tforce /= (length(force) + 0.0001);\n\tforce *= (curl * C);\n\tforce.y *= -1.0;\n\tvec2 vel = texture2D(uVelocity, coords).xy;\n\tgl_FragColor = vec4(vel + (force * dt), 0.0, 1.0);\n}\n"},function(e,t){e.exports="precision mediump float;\nprecision mediump sampler2D;\nvarying highp vec2 coords;\nvarying highp vec2 vL;\nvarying highp vec2 vR;\nvarying highp vec2 vT;\nvarying highp vec2 vB;\nuniform sampler2D uPressure;\nuniform sampler2D uDivergence;\nvoid main() {\n\tfloat L = texture2D(uPressure, vL).x;\n\tfloat R = texture2D(uPressure, vR).x;\n\tfloat T = texture2D(uPressure, vT).x;\n\tfloat B = texture2D(uPressure, vB).x;\n\tfloat C = texture2D(uPressure, coords).x;\n\tfloat divergence = texture2D(uDivergence, coords).x;\n\tfloat pressure = ((((L + R) + B) + T) - divergence) * 0.25;\n\tgl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);\n}\n"},function(e,t){e.exports="precision mediump float;\nprecision mediump sampler2D;\nvarying highp vec2 coords;\nvarying highp vec2 vL;\nvarying highp vec2 vR;\nvarying highp vec2 vT;\nvarying highp vec2 vB;\nuniform sampler2D uPressure;\nuniform sampler2D uVelocity;\nvec2 boundary(vec2 uv) {\n\treturn uv;\n}\nvoid main() {\n\tfloat L = texture2D(uPressure, boundary(vL)).x;\n\tfloat R = texture2D(uPressure, boundary(vR)).x;\n\tfloat T = texture2D(uPressure, boundary(vT)).x;\n\tfloat B = texture2D(uPressure, boundary(vB)).x;\n\tvec2 velocity = texture2D(uVelocity, coords).xy;\n\tvelocity.xy -= vec2(R - L, T - B);\n\tgl_FragColor = vec4(velocity, 0.0, 1.0);\n}\n"},function(e,t,n){var r=n(13);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(15)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(14)(!0)).push([e.i,"body{margin:0;width:100%;height:100%;background-color:black}body *{position:absolute}canvas{width:100%;height:46.6vw;background:black}.front,.back{width:100%;pointer-events:none}.stt2,.stt3,.stt4,.stt5,.stt6{display:none}\n","",{version:3,sources:["style.scss"],names:[],mappings:"AAAA,KAAK,QAAQ,CAAC,UAAU,CAAC,WAAW,CAAC,sBAAsB,CAAC,OAAO,iBAAiB,CAAC,OAAO,UAAU,CAAC,aAAa,CAAC,gBAAgB,CAAC,aAAa,UAAU,CAAC,mBAAmB,CAAC,8BAA8B,YAAY",file:"style.scss",sourcesContent:["body{margin:0;width:100%;height:100%;background-color:black}body *{position:absolute}canvas{width:100%;height:46.6vw;background:black}.front,.back{width:100%;pointer-events:none}.stt2,.stt3,.stt4,.stt5,.stt6{display:none}\n"]}])},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(u=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(u))))+" */"),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(i).concat([o]).join("\n")}var u;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(o=0;o<e.length;o++){var u=e[o];null!=u[0]&&r[u[0]]||(n&&!u[2]?u[2]=n:n&&(u[2]="("+u[2]+") and ("+n+")"),t.push(u))}},t}},function(e,t,n){var r,o,i={},u=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),a=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),c=null,f=0,s=[],l=n(16);function p(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id];if(o){o.refs++;for(var u=0;u<o.parts.length;u++)o.parts[u](r.parts[u]);for(;u<r.parts.length;u++)o.parts.push(g(r.parts[u],t))}else{var a=[];for(u=0;u<r.parts.length;u++)a.push(g(r.parts[u],t));i[r.id]={id:r.id,refs:1,parts:a}}}}function v(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],u=t.base?i[0]+t.base:i[0],a={css:i[1],media:i[2],sourceMap:i[3]};r[u]?r[u].parts.push(a):n.push(r[u]={id:u,parts:[a]})}return n}function d(e,t){var n=a(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=s[s.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),s.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=a(e.insertAt.before,n);n.insertBefore(t,o)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=s.indexOf(e);t>=0&&s.splice(t,1)}function y(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return h(t,e.attrs),d(e,t),t}function h(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function g(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=i}if(t.singleton){var u=f++;n=c||(c=y(t)),r=T.bind(null,n,u,!1),o=T.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",h(t,e.attrs),d(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=l(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var u=new Blob([r],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(u),a&&URL.revokeObjectURL(a)}.bind(null,n,t),o=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=y(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){m(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=u()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=v(e,t);return p(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var u=n[o];(a=i[u.id]).refs--,r.push(a)}e&&p(v(e,t),t);for(o=0;o<r.length;o++){var a;if(0===(a=r[o]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete i[a.id]}}}};var b,x=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function T(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=x(t,o);else{var i=document.createTextNode(o),u=e.childNodes;u[t]&&e.removeChild(u[t]),u.length?e.insertBefore(i,u[t]):e.appendChild(i)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,n){"use strict";n.r(t);var r={alpha:!0,depth:!1,stencil:!1,antialias:!1,preserveDrawingBuffer:!1};function o(e,t,n,r){if(function(e,t,n,r){var o=e.createTexture();e.bindTexture(e.TEXTURE_2D,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,t,4,4,0,n,r,null);var i=e.createFramebuffer();return e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,o,0),e.checkFramebufferStatus(e.FRAMEBUFFER)!==e.FRAMEBUFFER_COMPLETE}(e,t,n,r))switch(t){case e.R16F:return o(e,e.RG16F,e.RG,r);case e.RG16F:return o(e,e.RGBA16F,e.RGBA,r);default:return null}return{internalFormat:t,format:n}}var i=function(e){var t,n,i=e.getContext("webgl2",r),u=!!i,a=function(e){return u};u||(i=e.getContext("webgl",r)||e.getContext("experimental-webgl",r)),u?(i.getExtension("EXT_color_buffer_float"),n=i.getExtension("OES_texture_float_linear")):(t=i.getExtension("OES_texture_half_float"),n=i.getExtension("OES_texture_half_float_linear")),i.clearColor(0,0,0,1);var c,f,s,l=a()?i.HALF_FLOAT:t.HALF_FLOAT_OES;return a()?(c=o(i,i.RGBA16F,i.RGBA,l),f=o(i,i.RG16F,i.RG,l),s=o(i,i.R16F,i.RED,l)):(c=o(i,i.RGBA,i.RGBA,l),f=o(i,i.RGBA,i.RGBA,l),s=o(i,i.RGBA,i.RGBA,l)),{gl:i,ext:{formatRGBA:c,formatRG:f,formatR:s,halfFloatTexType:l,supportLinearFiltering:n}}},u=null,a=function(){return u||console.error("Instance of WebGL wasn't provided! Firsty call initWebGL to getInstance."),u},c=document.createElement("canvas"),f=document.querySelector(".front");document.body.insertBefore(c,f),c.width=c.clientWidth,c.height=c.clientHeight,u=i(c);var s=function(){return c},l={SIM_RESOLUTION:128,DYE_RESOLUTION:512,DENSITY_DISSIPATION:.97,VELOCITY_DISSIPATION:.98,PRESSURE_DISSIPATION:.8,PRESSURE_ITERATIONS:20,CURL:30,SPLAT_RADIUS:.5,SHADING:!1,COLORFUL:!1,BACK_COLOR:{r:0,g:0,b:0},TRANSPARENT:!1},p=function(){return function(){this.id=-1,this.x=0,this.y=0,this.dx=0,this.dy=0,this.moved=!1,this.color={r:0,g:0,b:0}}}();var v=function(){var e=function(e,t,n){var r,o,i,u=Math.floor(6*e),a=6*e-u,c=n*(1-t),f=n*(1-a*t),s=n*(1-(1-a)*t);switch(u%6){case 0:r=n,o=s,i=c;break;case 1:r=f,o=n,i=c;break;case 2:r=c,o=n,i=s;break;case 3:r=c,o=f,i=n;break;case 4:r=s,o=c,i=n;break;case 5:r=n,o=c,i=f}return{r:r,g:o,b:i}}(Math.random(),1,1);return e.r*=.15,e.g*=.15,e.b*=.15,e},d=a().gl;var m,y,h,g,b,x,T,_,R,A,E=function(e,t){var n=d.createShader(d[e]);if(d.shaderSource(n,t),d.compileShader(n),!d.getShaderParameter(n,d.COMPILE_STATUS))throw d.getShaderInfoLog(n);return n},O=n(0),S=n.n(O),D=a().gl,L=E("VERTEX_SHADER",S.a),w=function(){function e(e,t){if(void 0===e&&(e=L),this.program=D.createProgram(),this.uniformsLocation={},D.attachShader(this.program,e),D.attachShader(this.program,t),D.linkProgram(this.program),!D.getProgramParameter(this.program,D.LINK_STATUS))throw D.getProgramInfoLog(this.program);for(var n=D.getProgramParameter(this.program,D.ACTIVE_UNIFORMS),r=0;r<n;r++){var o=D.getActiveUniform(this.program,r).name;this.uniformsLocation[o]=D.getUniformLocation(this.program,o)}}return e.prototype.bind=function(){D.useProgram(this.program)},e}(),P=n(1),C=n.n(P),F=(m=function(e,t){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),I=a().gl,U=E("FRAGMENT_SHADER",C.a),B=new(function(e){function t(){return e.call(this,void 0,U)||this}return F(t,e),Object.defineProperty(t.prototype,"uTexture",{set:function(e){I.uniform1i(this.uniformsLocation.uTexture,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(e){I.uniform1f(this.uniformsLocation.value,e)},enumerable:!0,configurable:!0}),t}(w)),j=n(2),N=n.n(j),M=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),G=a().gl,V=E("FRAGMENT_SHADER",N.a),z=new(function(e){function t(){return e.call(this,void 0,V)||this}return M(t,e),Object.defineProperty(t.prototype,"uTexture",{set:function(e){G.uniform1i(this.uniformsLocation.uTexture,e)},enumerable:!0,configurable:!0}),t}(w)),X=n(3),H=n.n(X),k=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),W=a().gl,Y=E("FRAGMENT_SHADER",H.a),q=(new(function(e){function t(){return e.call(this,void 0,Y)||this}return k(t,e),Object.defineProperty(t.prototype,"texelSize",{set:function(e){W.uniform2f.apply(W,[this.uniformsLocation.texelSize].concat(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uTexture",{set:function(e){W.uniform1i(this.uniformsLocation.uTexture,e)},enumerable:!0,configurable:!0}),t}(w)),n(4)),K=n.n(q),$=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),J=a().gl,Q=E("FRAGMENT_SHADER",K.a),Z=new(function(e){function t(){return e.call(this,void 0,Q)||this}return $(t,e),Object.defineProperty(t.prototype,"uTarget",{set:function(e){J.uniform1i(this.uniformsLocation.uTarget,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aspectRatio",{set:function(e){J.uniform1f(this.uniformsLocation.aspectRatio,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{set:function(e){J.uniform3f.apply(J,[this.uniformsLocation.color].concat(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"point",{set:function(e){J.uniform2f.apply(J,[this.uniformsLocation.point].concat(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{set:function(e){J.uniform1f(this.uniformsLocation.radius,e)},enumerable:!0,configurable:!0}),t}(w)),ee=n(5),te=n.n(ee),ne=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),re=a().gl,oe=E("FRAGMENT_SHADER",te.a),ie=new(function(e){function t(){return e.call(this,void 0,oe)||this}return ne(t,e),Object.defineProperty(t.prototype,"texelSize",{set:function(e){re.uniform2f.apply(re,[this.uniformsLocation.texelSize].concat(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dt",{set:function(e){re.uniform1f(this.uniformsLocation.dt,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dissipation",{set:function(e){re.uniform1f(this.uniformsLocation.dissipation,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uVelocity",{set:function(e){re.uniform1i(this.uniformsLocation.uVelocity,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uSource",{set:function(e){re.uniform1i(this.uniformsLocation.uSource,e)},enumerable:!0,configurable:!0}),t}(w)),ue=n(6),ae=n.n(ue),ce=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fe=a().gl,se=E("FRAGMENT_SHADER",ae.a),le=new(function(e){function t(){return e.call(this,void 0,se)||this}return ce(t,e),Object.defineProperty(t.prototype,"texelSize",{set:function(e){fe.uniform2f.apply(fe,[this.uniformsLocation.texelSize].concat(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dyeTexelSize",{set:function(e){fe.uniform2f.apply(fe,[this.uniformsLocation.dyeTexelSize].concat(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dt",{set:function(e){fe.uniform1f(this.uniformsLocation.dt,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dissipation",{set:function(e){fe.uniform1f(this.uniformsLocation.dissipation,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uVelocity",{set:function(e){fe.uniform1i(this.uniformsLocation.uVelocity,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uSource",{set:function(e){fe.uniform1i(this.uniformsLocation.uSource,e)},enumerable:!0,configurable:!0}),t}(w)),pe=n(7),ve=n.n(pe),de=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),me=a().gl,ye=E("FRAGMENT_SHADER",ve.a),he=new(function(e){function t(){return e.call(this,void 0,ye)||this}return de(t,e),Object.defineProperty(t.prototype,"uVelocity",{set:function(e){me.uniform1i(this.uniformsLocation.uVelocity,e)},enumerable:!0,configurable:!0}),t}(w)),ge=n(8),be=n.n(ge),xe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Te=a().gl,_e=E("FRAGMENT_SHADER",be.a),Re=new(function(e){function t(){return e.call(this,void 0,_e)||this}return xe(t,e),Object.defineProperty(t.prototype,"uVelocity",{set:function(e){Te.uniform1i(this.uniformsLocation.uVelocity,e)},enumerable:!0,configurable:!0}),t}(w)),Ae=n(9),Ee=n.n(Ae),Oe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Se=a().gl,De=E("FRAGMENT_SHADER",Ee.a),Le=new(function(e){function t(){return e.call(this,void 0,De)||this}return Oe(t,e),Object.defineProperty(t.prototype,"uVelocity",{set:function(e){Se.uniform1i(this.uniformsLocation.uVelocity,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uCurl",{set:function(e){Se.uniform1i(this.uniformsLocation.uCurl,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"curl",{set:function(e){Se.uniform1f(this.uniformsLocation.curl,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dt",{set:function(e){Se.uniform1f(this.uniformsLocation.dt,e)},enumerable:!0,configurable:!0}),t}(w)),we=n(10),Pe=n.n(we),Ce=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fe=a().gl,Ie=E("FRAGMENT_SHADER",Pe.a),Ue=new(function(e){function t(){return e.call(this,void 0,Ie)||this}return Ce(t,e),Object.defineProperty(t.prototype,"uPressure",{set:function(e){Fe.uniform1i(this.uniformsLocation.uPressure,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uDivergence",{set:function(e){Fe.uniform1i(this.uniformsLocation.uDivergence,e)},enumerable:!0,configurable:!0}),t}(w)),Be=n(11),je=n.n(Be),Ne=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Me=a().gl,Ge=E("FRAGMENT_SHADER",je.a),Ve=new(function(e){function t(){return e.call(this,void 0,Ge)||this}return Ne(t,e),Object.defineProperty(t.prototype,"uPressure",{set:function(e){Me.uniform1i(this.uniformsLocation.uPressure,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uVelocity",{set:function(e){Me.uniform1i(this.uniformsLocation.uVelocity,e)},enumerable:!0,configurable:!0}),t}(w)),ze=a().ext,Xe=B,He=z,ke=Z,We=ze.supportLinearFiltering?ie:le,Ye=he,qe=Re,Ke=Le,$e=Ue,Je=Ve,Qe=(n(12),a().gl),Ze=function(){return function(e,t,n,r,o,i,u){Qe.activeTexture(Qe.TEXTURE0+e),this.texId=e,this.texture=Qe.createTexture(),Qe.bindTexture(Qe.TEXTURE_2D,this.texture),Qe.texParameteri(Qe.TEXTURE_2D,Qe.TEXTURE_MIN_FILTER,u),Qe.texParameteri(Qe.TEXTURE_2D,Qe.TEXTURE_MAG_FILTER,u),Qe.texParameteri(Qe.TEXTURE_2D,Qe.TEXTURE_WRAP_S,Qe.CLAMP_TO_EDGE),Qe.texParameteri(Qe.TEXTURE_2D,Qe.TEXTURE_WRAP_T,Qe.CLAMP_TO_EDGE),Qe.texImage2D(Qe.TEXTURE_2D,0,r,t,n,0,o,i,null),this.fbo=Qe.createFramebuffer(),Qe.bindFramebuffer(Qe.FRAMEBUFFER,this.fbo),Qe.framebufferTexture2D(Qe.FRAMEBUFFER,Qe.COLOR_ATTACHMENT0,Qe.TEXTURE_2D,this.texture,0),Qe.viewport(0,0,t,n),Qe.clear(Qe.COLOR_BUFFER_BIT)}}(),et=function(){function e(e,t,n,r,o,i,u){this.fbo1=new Ze(e,t,n,r,o,i,u),this.fbo2=new Ze(e+1,t,n,r,o,i,u)}return Object.defineProperty(e.prototype,"read",{get:function(){return this.fbo1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"write",{get:function(){return this.fbo2},enumerable:!0,configurable:!0}),e.prototype.swap=function(){var e=this.fbo1;this.fbo1=this.fbo2,this.fbo2=e},e}(),tt=a().gl,nt=(tt.bindBuffer(tt.ARRAY_BUFFER,tt.createBuffer()),tt.bufferData(tt.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),tt.STATIC_DRAW),tt.bindBuffer(tt.ELEMENT_ARRAY_BUFFER,tt.createBuffer()),tt.bufferData(tt.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),tt.STATIC_DRAW),tt.vertexAttribPointer(0,2,tt.FLOAT,!1,0,0),tt.enableVertexAttribArray(0),function(e){tt.bindFramebuffer(tt.FRAMEBUFFER,e),tt.drawElements(tt.TRIANGLES,6,tt.UNSIGNED_SHORT,0)}),rt=s(),ot=a(),it=ot.gl,ut=ot.ext,at=new p,ct=null;function ft(){var e=st(l.SIM_RESOLUTION),t=st(l.DYE_RESOLUTION);y=e.width,h=e.height,g=t.width,b=t.height;var n=ut.halfFloatTexType,r=ut.formatRGBA,o=ut.formatRG,i=ut.formatR;x=new et(2,g,b,r.internalFormat,r.format,n,ut.supportLinearFiltering?it.LINEAR:it.NEAREST),T=new et(0,y,h,o.internalFormat,o.format,n,ut.supportLinearFiltering?it.LINEAR:it.NEAREST),_=new Ze(4,y,h,i.internalFormat,i.format,n,it.NEAREST),R=new Ze(5,y,h,i.internalFormat,i.format,n,it.NEAREST),A=new et(6,y,h,i.internalFormat,i.format,n,it.NEAREST)}function st(e){var t=it.drawingBufferWidth/it.drawingBufferHeight;t<1&&(t=1/t);var n=Math.round(e*t),r=Math.round(e);return it.drawingBufferWidth>it.drawingBufferHeight?{width:n,height:r}:{width:r,height:n}}ut.supportLinearFiltering||(l.SHADING=!1);var lt=Date.now();var pt=v(),vt=document.querySelector(".button");var dt=[v(),v(),v(),v(),v()];var mt=function(){Xe.bind(),it.activeTexture(it.TEXTURE0+A.read.texId),it.bindTexture(it.TEXTURE_2D,A.read.texture),Xe.uTexture=A.read.texId,Xe.value=l.PRESSURE_DISSIPATION,nt(A.write.fbo),A.swap()},yt=function(){Ye.bind(),it.uniform2f(Ye.uniformsLocation.texelSize,1/y,1/h),Ye.uVelocity=T.read.texId,nt(_.fbo)},ht=function(){$e.bind(),it.uniform2f($e.uniformsLocation.texelSize,1/y,1/h),$e.uDivergence=_.texId,$e.uPressure=A.read.texId,it.activeTexture(it.TEXTURE0+A.read.texId);for(var e=0;e<l.PRESSURE_ITERATIONS;e++)it.bindTexture(it.TEXTURE_2D,A.read.texture),nt(A.write.fbo),A.swap()},gt=function(){Je.bind(),it.uniform2f(Je.uniformsLocation.texelSize,1/y,1/h),Je.uPressure=A.read.texId,Je.uVelocity=T.read.texId,nt(T.write.fbo),T.swap()},bt=function(e){We.bind(),We.texelSize=[1/y,1/h],"dyeTexelSize"in We&&(We.dyeTexelSize=[1/y,1/h]),We.uVelocity=T.read.texId,We.uSource=T.read.texId,We.dt=e,We.dissipation=l.VELOCITY_DISSIPATION,nt(T.write.fbo),T.swap()},xt=function(){it.viewport(0,0,g,b),"dyeTexelSize"in We&&(We.dyeTexelSize=[1/g,1/b]),We.uVelocity=T.read.texId,We.uSource=x.read.texId,We.dissipation=l.DENSITY_DISSIPATION,nt(x.write.fbo),x.swap()},Tt=function(){qe.bind(),it.uniform2f(qe.uniformsLocation.texelSize,1/y,1/h),qe.uVelocity=T.read.texId,nt(R.fbo)},_t=function(e){Ke.bind(),it.uniform2f(Ke.uniformsLocation.texelSize,1/y,1/h),Ke.uVelocity=T.read.texId,Ke.uCurl=R.texId,Ke.curl=l.CURL,Ke.dt=e,nt(T.write.fbo),T.swap()};function Rt(e,t,n,r,o){console.log({x:e,y:t,dx:n,dy:r}),it.viewport(0,0,y,h),ke.bind(),ke.uTarget=T.read.texId,ke.aspectRatio=rt.width/rt.height,ke.point=[e/rt.width,1-t/rt.height],ke.color=[n,-r,1],ke.radius=l.SPLAT_RADIUS/100,nt(T.write.fbo),T.swap(),it.viewport(0,0,g,b),ke.uTarget=x.read.texId,ke.color=[o.r,o.g,o.b],nt(x.write.fbo),x.swap()}at.color=v(),rt.addEventListener("mousemove",function(e){at.moved=!0,at.dx=5*(e.offsetX-at.x),at.dy=5*(e.offsetY-at.y),at.x=e.offsetX,at.y=e.offsetY}),ft(),function e(){var t;rt.width==rt.clientWidth&&rt.height==rt.clientHeight||(rt.width=rt.clientWidth,rt.height=rt.clientHeight,ft()),function(){if(at.moved){var e=Math.min(Math.floor(at.y/(.09494*rt.width)),dt.length-1),t={r:dt[e].r,g:dt[e].g,b:dt[e].b};Rt(at.x,at.y,at.dx,at.dy,t),at.moved=!1}l.COLORFUL&&lt+100<Date.now()&&(lt=Date.now(),at.color=v())}(),t=.016,it.disable(it.BLEND),it.viewport(0,0,y,h),Tt(),_t(t),yt(),mt(),ht(),gt(),bt(t),xt(),function(){l.TRANSPARENT||(it.blendFunc(it.ONE,it.ONE_MINUS_SRC_ALPHA),it.enable(it.BLEND));var e=it.drawingBufferWidth,t=it.drawingBufferHeight;it.viewport(0,0,e,t),He.bind(),He.uTexture=x.read.texId,nt(ct)}(),requestAnimationFrame(e)}(),setTimeout(function(){return function e(t){var n=vt.getBoundingClientRect(),r=n.top,o=n.right,i=n.bottom,u=n.left,a=n.width,c=[{x:u,y:r},{x:o,y:r},{x:u,y:i},{x:o,y:i}],f=c.reduce(function(e,t){return{x:e.x+t.x/c.length,y:e.y+t.y/c.length}},{x:0,y:0});[.35,1.25,2.5,3.75,4.9,5.9].forEach(function(e){var n=Math.sin(e)*t*(a/2)+f.x,r=-Math.cos(e)*t*(a/2)+f.y,o={x:8*Math.sin(e)+n,y:8*-Math.cos(e)+r};Rt(o.x,o.y,o.x-n,o.y-r,pt)}),t<1&&setTimeout(function(){return e(t+.015)},0)}(.5)},2e3)}]);